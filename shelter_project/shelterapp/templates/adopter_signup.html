<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adopter Signup</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <script>
        function formatPhoneNumber(input) {
            const value = input.value.replace(/\D/g, ''); // Remove non-numeric characters
            let formatted = '';
            if (value.length > 0) {
                formatted += '(' + value.substring(0, 3); // Area code
            }
            if (value.length >= 4) {
                formatted += ') ' + value.substring(3, 6); // First three digits after area code
            }
            if (value.length >= 7) {
                formatted += '-' + value.substring(6, 10); // Last four digits
            }
            input.value = formatted; // Set the input value
        }
    </script>
</head>
<body>
    <div class="container mt-5">
        <h2 class="text-center">Adopter Signup</h2>
        <form method="POST" action="">
            {% csrf_token %}
            
            <!-- Username Field -->
            <div class="form-group">
                <label for="id_username">Username</label>
                {{ form.username }}
                {% if form.username.errors %}
                    <div class="text-danger">
                        {% for error in form.username.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- First Name Field -->
            <div class="form-group">
                <label for="id_first_name">First Name</label>
                {{ form.first_name }}
                {% if form.first_name.errors %}
                    <div class="text-danger">
                        {% for error in form.first_name.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- Last Name Field -->
            <div class="form-group">
                <label for="id_last_name">Last Name</label>
                {{ form.last_name }}
                {% if form.last_name.errors %}
                    <div class="text-danger">
                        {% for error in form.last_name.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- Email Field -->
            <div class="form-group">
                <label for="id_email">Email</label>
                <input type="email" id="id_email" name="email" placeholder="example@gmail.com" 
                       value="{{ form.email.value }}" class="form-control">
                {% if form.email.errors %}
                    <div class="text-danger">
                        {% for error in form.email.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- Password Field -->
            <div class="form-group">
                <label for="id_password1">Password</label>
                {{ form.password1 }}
                {% if form.password1.errors %}
                    <div class="text-danger">
                        {% for error in form.password1.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- Confirm Password Field -->
            <div class="form-group">
                <label for="id_password2">Confirm Password</label>
                {{ form.password2 }}
                {% if form.password2.errors %}
                    <div class="text-danger">
                        {% for error in form.password2.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- Phone Number Field -->
            <div class="form-group">
                <label for="id_phone_number">Phone Number</label>
                <input type="text" id="id_phone_number" name="phone_number" placeholder="(XXX) XXX-XXXX" 
                       oninput="formatPhoneNumber(this)" class="form-control">
                {% if form.phone_number.errors %}
                    <div class="text-danger">
                        {% for error in form.phone_number.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <!-- Address Field -->
            <div class="form-group">
                <label for="id_address">Address</label>
                {{ form.address }}
                {% if form.address.errors %}
                    <div class="text-danger">
                        {% for error in form.address.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <button type="submit" class="btn btn-primary mt-3">Sign Up</button>
        </form>

        <!-- Link to the login page -->
        <div class="mt-3 text-center">
            <p>Already have an account? <a href="{% url 'adopter_login' %}">Log in</a></p>
        </div>
        
    </div>
</body>
</html>
